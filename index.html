<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find a Verse</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@400;700&family=Source+Code+Pro:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s, color 0.3s;
        }
        /* --- Themes --- */
        .theme-light {
            background-color: #f3f4f6;
            color: #1f2937;
        }
        .theme-light #main-container { background-color: #ffffff; }
        .theme-light .text-gray-800 { color: #1f2937; }
        .theme-light .text-gray-500 { color: #6b7280; }
        .theme-light .bg-gray-100 { background-color: #f9fafb; }
        .theme-light input, .theme-light textarea { background-color: #ffffff; border-color: #d1d5db; color: #1f2937; }
        .theme-light input::placeholder, .theme-light textarea::placeholder { color: #9ca3af; }
        .theme-light .border-gray-300 { border-color: #d1d5db; }
        .theme-light .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1-px rgba(0, 0, 0, 0.06); }
        
        .theme-dark {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        .theme-dark #main-container { background-color: #2d3748; }
        .theme-dark .bg-gray-100 { background-color: #4a5568; }
        .theme-dark .text-gray-800 { color: #e2e8f0; }
        .theme-dark .text-gray-500 { color: #a0aec0; }
        .theme-dark input, .theme-dark textarea { background-color: #4a5568; border-color: #4a5568; color: #e2e8f0; }
        .theme-dark input::placeholder, .theme-dark textarea::placeholder { color: #a0aec0; }
        .theme-dark .border-gray-300 { border-color: #4a5568; }
        .theme-dark .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.12); }
        .theme-dark #random-verse-button {
            background-color: #4a5568;
            color: #e2e8f0;
        }
        .theme-dark #random-verse-button:hover {
            background-color: #617d98;
        }
        
        .theme-ocean {
            background-color: #2b6cb0;
            color: #e2e8f0;
        }
        .theme-ocean #main-container { background-color: #1c4b7c; }
        .theme-ocean .bg-gray-100 { background-color: #3182ce; }
        .theme-ocean .text-gray-800 { color: #e2f0e6; }
        .theme-ocean .text-gray-500 { color: #bbd0e8; }
        .theme-ocean input, .theme-ocean textarea { background-color: #3182ce; border-color: #4a90e2; color: #e2f0f6; }
        .theme-ocean input::placeholder, .theme-ocean textarea::placeholder { color: #bbd0e8; }
        .theme-ocean .border-gray-300 { border-color: #4a90e2; }
        .theme-ocean .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
        .theme-ocean .bg-blue-600 { background-color: #1d4ed8; }
        .theme-ocean .bg-blue-600 { background-color: #1d4ed8; }
        .theme-ocean #random-verse-button {
            background-color: #3182ce;
            color: #e2f0e6;
        }
        .theme-ocean #random-verse-button:hover {
            background-color: #63b3ed;
        }

        .theme-forest-green {
            background-color: #1F382A;
            color: #e2f0e6;
        }
        .theme-forest-green #main-container { background-color: #2F523B; }
        .theme-forest-green .bg-gray-100 { background-color: #3D6C4F; }
        .theme-forest-green .text-gray-800 { color: #e2f0e6; }
        .theme-forest-green .text-gray-500 { color: #B1D2BE; }
        .theme-forest-green .bg-blue-600 { background-color: #38a169; }
        .theme-forest-green .text-blue-600 { color: #68D391; }
        .theme-forest-green #random-verse-button {
            background-color: #38a169;
            color: #e2f0e6;
        }
        .theme-forest-green #random-verse-button:hover {
            background-color: #2f855a;
        }
        
        .theme-dusk {
            background-color: #2c3e50;
            color: #ecf0f1;
        }
        .theme-dusk #main-container { background-color: #34495e; }
        .theme-dusk .bg-gray-100 { background-color: #2980b9; }
        .theme-dusk .text-gray-800 { color: #ecf0f1; }
        .theme-dusk .text-gray-500 { color: #bdc3c7; }
        .theme-dusk input, .theme-dusk textarea { background-color: #34495e; border-color: #34495e; color: #ecf0f1; }
        .theme-dusk input::placeholder, .theme-dusk textarea::placeholder { color: #bdc3c7; }
        .theme-dusk .border-gray-300 { border-color: #34495e; }
        .theme-dusk .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.12); }
        .theme-dusk #random-verse-button {
            background-color: #2980b9;
            color: #ecf0f1;
        }
        .theme-dusk #random-verse-button:hover {
            background-color: #3498db;
        }

        .verse-card:hover {
            transform: scale(1.03);
        }

        /* --- Custom Animations --- */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
        }

        @keyframes popIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        .pop-in {
            animation: popIn 0.5s ease-out forwards;
        }

    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 transition-colors duration-300 theme-light">
    <!-- Main Container with pop-in animation -->
    <div id="main-container" class="w-full max-w-2xl rounded-2xl shadow-xl p-8 space-y-8 transition-colors duration-300 pop-in">
        <!-- Header -->
        <header class="text-center space-y-2">
            <h1 class="text-5xl font-extrabold text-blue-600">Find a Verse</h1>
            <p class="text-gray-500">Get a verse that speaks to your heart.</p>
        </header>

        <!-- The Verse of the Day Section -->
        <section class="border-t border-gray-300 pt-6 space-y-4">
            <h2 class="text-xl font-bold text-gray-800">Verse of the Hour</h2>
            <div id="verse-of-day" class="p-6 bg-blue-500 text-white rounded-2xl shadow-md space-y-2 text-center transition-transform duration-300">
                <div id="votd-text" class="text-lg font-medium italic"></div>
                <div id="votd-reference" class="text-sm font-semibold"></div>
            </div>
        </section>

        <!-- Mood-Based Verses Section -->
        <section class="border-t border-gray-300 pt-6 space-y-4">
            <h2 class="text-xl font-bold text-gray-800">Find a Verse by Emotion</h2>
            <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                <button data-emotion="joy" class="verse-card bg-green-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Joy</button>
                <button data-emotion="peace" class="verse-card bg-purple-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Peace</button>
                <button data-emotion="sadness" class="verse-card bg-blue-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Sadness</button>
                <button data-emotion="fear" class="verse-card bg-orange-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Fear</button>
                <button data-emotion="anger" class="verse-card bg-red-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Anger</button>
                <button data-emotion="strength" class="verse-card bg-indigo-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Strength</button>
                <button data-emotion="hope" class="verse-card bg-amber-500 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Hope</button>
                <button data-emotion="gratitude" class="verse-card bg-pink-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Gratitude</button>
                <button data-emotion="healing" class="verse-card bg-teal-400 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Healing</button>
                <button data-emotion="patience" class="verse-card bg-cyan-500 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Patience</button>
                <button data-emotion="forgiveness" class="verse-card bg-fuchsia-500 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Forgiveness</button>
                <button data-emotion="guidance" class="verse-card bg-slate-500 text-white p-6 rounded-xl shadow-md font-bold text-center transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-lg active:translate-y-0 active:shadow-md">Guidance</button>
            </div>
            <div id="random-verse-container" class="mt-4">
                 <button id="random-verse-button" class="w-full bg-gray-300 text-gray-800 p-3 rounded-lg hover:bg-gray-400 transition-colors duration-300 font-bold shadow-md">Get a Random Verse</button>
            </div>
            <div id="verse-result" class="mt-4 p-6 bg-gray-100 rounded-2xl shadow-md space-y-2 hidden">
                <p id="result-text" class="text-gray-800 text-lg italic"></p>
                <p id="result-reference" class="text-gray-500 text-sm font-semibold text-right"></p>
                <div class="flex flex-col sm:flex-row justify-between items-center pt-2 space-y-2 sm:space-y-0 sm:space-x-2">
                    <a id="bible-link" href="#" target="_blank" class="text-blue-600 hover:underline text-sm font-semibold">Read on Bible Gateway</a>
                </div>
            </div>
        </section>
        
        <!-- Theme and Font Size Controls -->
        <section class="border-t border-gray-300 pt-6 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <span class="text-gray-800 font-semibold">Font Size:</span>
                <div class="flex items-center space-x-2">
                    <button id="font-decrease" class="p-2 w-8 h-8 flex justify-center items-center text-gray-500 rounded-full border border-gray-300 hover:bg-gray-200 transition-colors duration-300">-</button>
                    <button id="font-increase" class="p-2 w-8 h-8 flex justify-center items-center text-gray-500 rounded-full border border-gray-300 hover:bg-gray-200 transition-colors duration-300">+</button>
                </div>
            </div>
            <div class="flex flex-col items-end space-y-2" id="theme-controls">
                <span class="text-gray-800 font-semibold">Themes:</span>
                <div class="flex space-x-2">
                    <button data-theme="light" class="w-8 h-8 rounded-full bg-white border border-gray-300 hover:ring-2 hover:ring-blue-500 transition-all"></button>
                    <button data-theme="dark" class="w-8 h-8 rounded-full bg-gray-800 border border-gray-300 hover:ring-2 hover:ring-blue-500 transition-all"></button>
                    <button data-theme="ocean" class="w-8 h-8 rounded-full bg-blue-300 border border-gray-300 hover:ring-2 hover:ring-blue-500 transition-all"></button>
                    <button data-theme="forest-green" class="w-8 h-8 rounded-full bg-green-500 border border-gray-300 hover:ring-2 hover:ring-green-700 transition-all"></button>
                    <button data-theme="dusk" class="w-8 h-8 rounded-full bg-gray-700 border border-gray-300 hover:ring-2 hover:ring-blue-500 transition-all"></button>
                </div>
            </div>
        </section>
    </div>
    
    <script>
        // UI element references
        const mainContainer = document.getElementById('main-container');
        const verseOfDayText = document.getElementById('votd-text');
        const verseOfDayReference = document.getElementById('votd-reference');
        const verseResultContainer = document.getElementById('verse-result');
        const resultText = document.getElementById('result-text');
        const resultReference = document.getElementById('result-reference');
        const bibleLink = document.getElementById('bible-link');
        const themeControls = document.getElementById('theme-controls');
        const body = document.body;
        const fontIncreaseButton = document.getElementById('font-increase');
        const fontDecreaseButton = document.getElementById('font-decrease');
        const randomVerseButton = document.getElementById('random-verse-button');
        
        const THEMES = ['light', 'dark', 'ocean', 'forest-green', 'dusk'];

        // Verses data (now with multiple verses per emotion)
        const verses = {
            joy: [
                { text: "The Lord is my strength and my shield; in Him my heart trusts, and I am helped; my heart exults, and with my song I give thanks to Him.", reference: "Psalm 28:7" },
                { text: "A joyful heart is good medicine, but a crushed spirit dries up the bones.", reference: "Proverbs 17:22" },
                { text: "Do not sorrow, for the joy of the Lord is your strength.", reference: "Nehemiah 8:10" }
            ],
            peace: [
                { text: "Peace I leave with you; my peace I give you. I do not give to you as the world gives. Do not let your hearts be troubled and do not be afraid.", reference: "John 14:27" },
                { text: "And the peace of God, which transcends all understanding, will guard your hearts and your minds in Christ Jesus.", reference: "Philippians 4:7" },
                { text: "You will keep in perfect peace those whose minds are steadfast, because they trust in you.", reference: "Isaiah 26:3" }
            ],
            sadness: [
                { text: "The Lord is close to the brokenhearted and saves those who are crushed in spirit.", reference: "Psalm 34:18" },
                { text: "Blessed are those who mourn, for they will be comforted.", reference: "Matthew 5:4" },
                { text: "For we do not have a high priest who is unable to empathize with our weaknesses, but we have one who has been tempted in every way, just as we are—yet he did not sin.", reference: "Hebrews 4:15" }
            ],
            fear: [
                { text: "For God has not given us a spirit of fear, but of power and of love and of a sound mind.", reference: "2 Timothy 1:7" },
                { text: "So do not fear, for I am with you; do not be dismayed, for I am your God. I will strengthen you and help you; I will uphold you with my righteous right hand.", reference: "Isaiah 41:10" },
                { text: "When I am afraid, I put my trust in you.", reference: "Psalm 56:3" }
            ],
            anger: [
                { text: "In your anger do not sin: Do not let the sun go down while you are still angry.", reference: "Ephesians 4:26" },
                { text: "My dear brothers and sisters, take note of this: Everyone should be quick to listen, slow to speak and slow to become angry, because human anger does not produce the righteousness that God desires.", reference: "James 1:19-20" },
                { text: "A gentle answer turns away wrath, but a harsh word stirs up anger.", reference: "Proverbs 15:1" }
            ],
            strength: [
                { text: "I can do all things through him who strengthens me.", reference: "Philippians 4:13" },
                { text: "but those who hope in the Lord will renew their strength. They will soar on wings like eagles; they will run and not grow weary, they will walk and not be faint.", reference: "Isaiah 40:31" },
                { text: "Be strong and courageous. Do not be afraid or terrified because of them, for the Lord your God goes with you; he will never leave you nor forsake you.", reference: "Deuteronomy 31:6" }
            ],
            hope: [
                { text: "May the God of hope fill you with all joy and peace as you trust in him, so that you may overflow with hope by the power of the Holy Spirit.", reference: "Romans 15:13" },
                { text: "Now faith is confidence in what we hope for and assurance about what we do not see.", reference: "Hebrews 11:1" },
                { text: "For I know the plans I have for you,” declares the Lord, “plans to prosper you and not to harm you, plans to give you hope and a future.", reference: "Jeremiah 29:11" }
            ],
            gratitude: [
                { text: "Give thanks in all circumstances; for this is God’s will for you in Christ Jesus.", reference: "1 Thessalonians 5:18" },
                { text: "Give thanks to the Lord, for he is good; his love endures forever.", reference: "Psalm 107:1" },
                { text: "And whatever you do, whether in word or deed, do it all in the name of the Lord Jesus, giving thanks to God the Father through him.", reference: "Colossians 3:17" }
            ],
            healing: [
                { text: "Heal me, O Lord, and I shall be healed; save me, and I shall be saved, for you are my praise.", reference: "Jeremiah 17:14" },
                { text: "He heals the brokenhearted and binds up their wounds.", reference: "Psalm 147:3" },
                { text: "But he was pierced for our transgressions, he was crushed for our iniquities; the punishment that brought us peace was on him, and by his wounds we are healed.", reference: "Isaiah 53:5" }
            ],
            patience: [
                { text: "Be joyful in hope, patient in affliction, faithful in prayer.", reference: "Romans 12:12" },
                { text: "But the fruit of the Spirit is love, joy, peace, forbearance, kindness, goodness, faithfulness, gentleness and self-control.", reference: "Galatians 5:22-23" },
                { text: "A person’s wisdom yields patience; it is to one’s glory to overlook an offense.", reference: "Proverbs 19:11" }
            ],
            forgiveness: [
                { text: "Bear with each other and forgive one another if any of you has a grievance against someone. Forgive as the Lord forgave you.", reference: "Colossians 3:13" },
                { text: "For if you forgive other people when they sin against you, your heavenly Father will also forgive you.", reference: "Matthew 6:14" },
                { text: "Be kind and compassionate to one another, forgiving each other, just as in Christ God forgave you.", reference: "Ephesians 4:32" }
            ],
            guidance: [
                { text: "Trust in the Lord with all your heart and lean not on your own understanding; in all your ways submit to him, and he will make your paths straight.", reference: "Proverbs 3:5-6" },
                { text: "I will instruct you and teach you in the way you should go; I will counsel you with my loving eye on you.", reference: "Psalm 32:8" },
                { text: "If any of you lacks wisdom, you should ask God, who gives generously to all without finding fault, and it will be given to you.", reference: "James 1:5" }
            ]
        };

        // Display a verse with a fade-in animation and scroll to it
        const displayVerse = (verse) => {
            resultText.textContent = `“${verse.text}”`;
            resultReference.textContent = `— ${verse.reference}`;
            bibleLink.href = `https://www.biblegateway.com/passage/?search=${encodeURIComponent(verse.reference)}&version=NIV`;
            
            verseResultContainer.classList.remove('hidden');
            verseResultContainer.classList.remove('fade-in'); 
            void verseResultContainer.offsetWidth;
            verseResultContainer.classList.add('fade-in');
            
            verseResultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        };

        // Display a verse that changes every hour
        const displayVerseOfTheHour = () => {
            const keys = Object.keys(verses);
            const hour = new Date().getHours();
            const index = hour % keys.length;
            const selectedKey = keys[index];
            const verse = verses[selectedKey][Math.floor(Math.random() * verses[selectedKey].length)];
            verseOfDayText.textContent = `“${verse.text}”`;
            verseOfDayReference.textContent = `— ${verse.reference}`;
        };

        const getRandomVerse = () => {
            const allVerses = Object.values(verses).flat();
            const randomVerse = allVerses[Math.floor(Math.random() * allVerses.length)];
            displayVerse(randomVerse);
        };
        
        // Event Listeners
        document.addEventListener('DOMContentLoaded', () => {
            mainContainer.classList.add('pop-in');
            displayVerseOfTheHour();
            
            const savedTheme = localStorage.getItem('theme') || 'light';
            applyTheme(savedTheme);

            const savedFontSize = parseInt(localStorage.getItem('fontSize')) || 16;
            document.documentElement.style.fontSize = `${savedFontSize}px`;

            const currentThemeButton = document.querySelector(`[data-theme="${savedTheme}"]`);
            if (currentThemeButton) {
                currentThemeButton.classList.add('ring-2', 'ring-blue-500');
            }
        });

        document.querySelectorAll('.verse-card').forEach(button => {
            button.addEventListener('click', () => {
                const emotion = button.dataset.emotion;
                if (verses[emotion]) {
                    const emotionVerses = verses[emotion];
                    const randomVerse = emotionVerses[Math.floor(Math.random() * emotionVerses.length)];
                    displayVerse(randomVerse);
                }
            });
        });

        randomVerseButton.addEventListener('click', getRandomVerse);
        
        const applyTheme = (themeName) => {
            body.classList.remove(...THEMES.map(t => `theme-${t}`));
            body.classList.add(`theme-${themeName}`);
            body.dataset.theme = themeName;
        };

        themeControls.addEventListener('click', (event) => {
            const themeButton = event.target.closest('[data-theme]');
            if (themeButton) {
                const themeName = themeButton.dataset.theme;
                applyTheme(themeName);
                localStorage.setItem('theme', themeName);
                document.querySelectorAll('[data-theme]').forEach(btn => {
                    btn.classList.remove('ring-2', 'ring-blue-500', 'ring-green-700');
                });
                if (themeName === 'forest-green') {
                    themeButton.classList.add('ring-2', 'ring-green-700');
                } else {
                    themeButton.classList.add('ring-2', 'ring-blue-500');
                }
            }
        });
        
        fontIncreaseButton.addEventListener('click', () => {
            let currentSize = parseInt(document.documentElement.style.fontSize) || 16;
            if (currentSize < 24) {
                currentSize += 2;
                document.documentElement.style.fontSize = `${currentSize}px`;
                localStorage.setItem('fontSize', currentSize);
            }
        });

        fontDecreaseButton.addEventListener('click', () => {
            let currentSize = parseInt(document.documentElement.style.fontSize) || 16;
            if (currentSize > 12) {
                currentSize -= 2;
                document.documentElement.style.fontSize = `${currentSize}px`;
                localStorage.setItem('fontSize', currentSize);
            }
        });
    </script>
</body>
</html>
